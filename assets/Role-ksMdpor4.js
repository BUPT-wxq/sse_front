var R=(s,e,m)=>new Promise((b,_)=>{var D=r=>{try{d(m.next(r))}catch(f){_(f)}},x=r=>{try{d(m.throw(r))}catch(f){_(f)}},d=r=>r.done?b(r.value):Promise.resolve(r.value).then(D,x);d((m=m.apply(s,e)).next())});import{g as U}from"./index-WaNwiJKD.js";import{u as q}from"./useTable-VPpETMx8.js";import{h as c,c as F}from"./index-X2ggTGKV.js";import{_ as J}from"./Table.vue_vue_type_script_lang-nltHcxje.js";import"./el-tag-w40geAFS.js";import{_ as M}from"./Search.vue_vue_type_script_setup_true_lang-cXquVXAq.js";import{_ as W}from"./ContentWrap.vue_vue_type_script_setup_true_lang-uiiaNYQP.js";import{_ as X}from"./Write.vue_vue_type_script_setup_true_lang-kFm9PoW0.js";import{_ as z}from"./Detail.vue_vue_type_script_setup_true_lang-b8IZCkrC.js";import{_ as G}from"./Dialog.vue_vue_type_style_index_0_lang-zrDhBAvH.js";import{y as H}from"./element-plus-etLzNv3_.js";import{l as K,J as j,O as l,P as V,a as i,m as y,p as Q,R as p,u as a,q as Y,V as C,U as N,W as T,X as Z,y as ee}from"./vue-chunks-o87s7J8u.js";import"./el-checkbox-w40geAFS.js";import"./el-popper-w40geAFS.js";import"./el-pagination-w40geAFS.js";import"./el-image-viewer-w40geAFS.js";import"./el-card-w40geAFS.js";import"./el-radio-button-Zc3MqnhQ.js";import"./el-dropdown-item-w40geAFS.js";import"./el-drawer-w40geAFS.js";import"./index-YsKSMprJ.js";import"./Form-8Qwz70Oy.js";import"./el-col-w40geAFS.js";import"./el-input-number-w40geAFS.js";import"./el-divider-w40geAFS.js";import"./el-tree-w40geAFS.js";import"./InputPassword-x7Lq5KXM.js";import"./style.css_vue_type_style_index_0_src_true_lang-WxKRW3Hw.js";import"./wang-editor-GuMHOkf8.js";import"./JsonEditor.vue_vue_type_script_setup_true_lang-juUd3AWC.js";import"./IconPicker-ha1q0C78.js";import"./useForm-yvcpLEyU.js";import"./useIcon-SiP2aKSb.js";import"./useValidator-pbHS2vyS.js";import"./index-25bmcfen.js";import"./tree-sBP3NezW.js";import"./Descriptions-pG1EAbRJ.js";const te={class:"mb-10px"};function $(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Object]"&&!ee(s)}const Ue=K({__name:"Role",setup(s){const{t:e}=F(),{tableRegister:m,tableState:b,tableMethods:_}=q({fetchDataApi:()=>R(this,null,function*(){const t=yield U();return{list:t.data.list||[],total:t.data.total}})}),{dataList:D,loading:x,total:d}=b,{getList:r}=_,f=j([{field:"index",label:e("userDemo.index"),type:"index"},{field:"roleName",label:e("role.roleName")},{field:"status",label:e("menu.status"),slots:{default:t=>l(V,null,[l(H,{type:t.row.status===0?"danger":"success"},{default:()=>[t.row.status===1?e("userDemo.enable"):e("userDemo.disable")]})])}},{field:"createTime",label:e("tableDemo.displayTime")},{field:"remark",label:e("userDemo.remark")},{field:"action",label:e("userDemo.action"),width:240,slots:{default:t=>{let o,u,h;const L=t.row;return l(V,null,[l(c,{type:"primary",onClick:()=>B(L,"edit")},$(o=e("exampleDemo.edit"))?o:{default:()=>[o]}),l(c,{type:"success",onClick:()=>B(L,"detail")},$(u=e("exampleDemo.detail"))?u:{default:()=>[u]}),l(c,{type:"danger"},$(h=e("exampleDemo.del"))?h:{default:()=>[h]})])}}}]),O=j([{field:"roleName",label:e("role.roleName"),component:"Input"}]),P=i({}),S=t=>{P.value=t,r()},n=i(!1),k=i(""),v=i(),g=i(""),A=i(),w=i(!1),B=(t,o)=>{k.value=e(o==="edit"?"exampleDemo.edit":"exampleDemo.detail"),g.value=o,v.value=t,n.value=!0},E=()=>{k.value=e("exampleDemo.add"),v.value=void 0,n.value=!0,g.value=""},I=()=>R(this,null,function*(){const t=a(A);(yield t==null?void 0:t.submit())&&(w.value=!0,setTimeout(()=>{w.value=!1,n.value=!1},1e3))});return(t,o)=>(y(),Q(V,null,[l(a(W),null,{default:p(()=>[l(a(M),{schema:O,onReset:S,onSearch:S},null,8,["schema"]),Y("div",te,[l(a(c),{type:"primary",onClick:E},{default:p(()=>[C(N(a(e)("exampleDemo.add")),1)]),_:1})]),l(a(J),{columns:f,"default-expand-all":"","node-key":"id",data:a(D),loading:a(x),pagination:{total:a(d)},onRegister:a(m)},null,8,["columns","data","loading","pagination","onRegister"])]),_:1}),l(a(G),{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=u=>n.value=u),title:k.value},{footer:p(()=>[g.value!=="detail"?(y(),T(a(c),{key:0,type:"primary",loading:w.value,onClick:I},{default:p(()=>[C(N(a(e)("exampleDemo.save")),1)]),_:1},8,["loading"])):Z("",!0),l(a(c),{onClick:o[0]||(o[0]=u=>n.value=!1)},{default:p(()=>[C(N(a(e)("dialogDemo.close")),1)]),_:1})]),default:p(()=>[g.value!=="detail"?(y(),T(X,{key:0,ref_key:"writeRef",ref:A,"current-row":v.value},null,8,["current-row"])):(y(),T(z,{key:1,"current-row":v.value},null,8,["current-row"]))]),_:1},8,["modelValue","title"])],64))}});export{Ue as default};
